<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Счетчик counter на JavaScript</title>
</head>
<body>
    <script>
        "use strict";
        
        function makeCounter() {
          let count = 0; // Скрытая переменная от глобального Окружения
        
          return function() {
            return count++; // есть доступ к внешней переменной "count"
          };
        }
        
        let counter = makeCounter();
        
        alert( counter() ); // 0      ---  Вопрос: почему получили 0? 
        alert( counter() ); // 1
        alert( counter() ); // 2

        /* 
        Вопрос: Кто подскажет, почему в первом вызове alert( counter() ); // 0 мы получили 0? Начальное значение count=0, потом идет встроенная функция которая должна выполнить count++ увеличив с 0 до 1. А почему 0 получается все пишут а обяснения нигде нету. 
        
                Ответ: Алина Охотникова
                потому что сначала вы возвращаете значение count (0) и только потом плюсуете значение)
                речь про return count++

                получается первый вызов происходит так 
                function makeCounter() {
                    let count = 0; // Скрытая переменная от глобального Окружения

                    return function() {
                        Вернуть 0 (но потом сделать плюс)++; 
                };
                }
                
                а если сделаете 
                function makeCounter() {
                let count = 0; // Скрытая переменная от глобального Окружения

                return function() {
                    return ++count; // сначала плюс, потом вывод переменной
                };
                }
                то будет уже с 1


        Вопрос: Тогда еще вопрос, как оно запоминается что count увеличился на 1? Каждый последующий вызов показывает увеличение, но вроде же при каждом вызове let count = 0 должен выполниться

                Ответ: 
                Баира Имеева: Это довольно сложная (по-крайней мере для меня) тема с  замыканием :)
                Если кратно, то counter, это образец функции makeCounter и он хранит в памяти предыдущее значение count.
                Если создать новый образец, например, counter1, то он будет иметь своё значение count

                Ответ: Алина Охотникова
                Попробуем в помощь нейросети)

                Когда мы вызываем makeCounter(), она создает для себя "специальное место", где она может хранить число (начально это 0), и затем создает и возвращает другую функцию. Эта другая функция помнит про это "специальное место" и может изменять число в нем.

                Теперь, когда мы вызываем counter(), она на самом деле запускает ту функцию, которую вернула makeCounter(). И эта функция увеличивает число в "специальном месте" на 1 и возвращает его. Так что каждый раз, когда мы вызываем counter(), число в "специальном месте" увеличивается.

                то есть по сути очень грубоговоря он пропускает  let count = 0; и сразу идет к return function() где использует уже инициализированную переменную count

        */
        </script>

        
</body>
</html>

<!DOCTYPE html>


