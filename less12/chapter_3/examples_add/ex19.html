<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/style.css">
  <title>Пример 19 - Поиск на заданной позиции</title>
</head>

<body>

  <script>
    // Флаг y
    // Статья: https://learn.javascript.ru/regexp-sticky
    // Флаг y позволяет произвести поиск на определённой позиции в исходной строке.

    let str = 'let varName';
    let regexp = /\w+/y;
    // регулярное выражение проверяет любое количество символов, но здесь указано флаг y

    // теперь благодаря флагу y мы можем установить lastIndex, с которого мы будем выполнять проверку
    regexp.lastIndex = 3; // 3й индекс в нашей стороне это пробел, с него начнется поиск
    console.log(regexp.exec(str)); // null

    regexp.lastIndex = 4; // 4й индекс в нашей стороне это v, с него начнется поиск
    console.log(regexp.exec(str));
    // ['varName', index: 4, input: 'let varName', groups: undefined]

    // Вопрос:
    // Напишите регулярное выражение для поиска HTML тегов.
    // В первом шаге этого урока есть шпаргалка по регулярным выражениям, там вы можете найти ответ.
    // Ответ:
    let regForHtml = new RegExp("(\<(/?[^\>]+)\>)");
    console.log(`<h1 class="title">Hello, world!</h1>`.match(regForHtml));
    // (3) ['<h1 class="title">', '<h1 class="title">', 'h1 class="title"', index: 0, input: '<h1 class="title">Hello, world!</h1>', groups: undefined]
    // Как расшифровать это - непонятно.

    // Без непонятных круглых скобок по краям:
    let regForHtml2 = new RegExp("\<(/?[^\>]+)\>");
    console.log(`<h1 class="title">Hello, world!</h1>`.match(regForHtml2));
    // (2) ['<h1 class="title">', 'h1 class="title"', index: 0, input: '<h1 class="title">Hello, world!</h1>', groups: undefined]

  </script>
</body>

</html>