// –ü—Ä–∏–º–µ—Ä 27 - –°–ª–∞–π–¥–µ—Ä (Range)

// –í—ã–≤–æ–¥ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –Ω–∞ html-—Å—Ç—Ä–∞–Ω–∏—Ü—É:
let elem = document.getElementById('clientXY');

document.addEventListener('mousemove', function(event) {
	elem.innerHTML = 'event.clientX:' + event.clientX + ' | ' + 'event.clientY:' + event.clientY;
});


// –ü–æ–¥—Ü–µ–ø–∏–º—Å—è –∫ –∫—Ä—É–∂–∫—É, –∫–æ—Ç–æ—Ä—ã–π –≤–Ω—É—Ç—Ä–∏ –ø–æ–ª–æ—Å–∫–∏:
let btn = slider.querySelector('.slider__btn');

//  –ù–∞–º –Ω—É–∂–Ω–æ –≤—ã—Å—á–∏—Ç–∞—Ç—å –ø–æ–∑–∏—Ü–∏—é –º—ã—à–∫–∏ –∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç—å —Ç—É–¥–∞ –Ω–∞—à—É –∫–Ω–æ–ø–∫—É.

btn.onmousedown = function (e) {

    // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏–º –∫–∞–∫–æ–µ-–ª–∏–±–æ —Å–ª—É—á–∞–π–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏ —â–µ–ª—á–∫–µ:
    e.preventDefault()

    // –î–∞–ª–µ–µ –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –Ω–∞—à —Å–ª–∞–π–¥–µ—Ä –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —à–∏—Ä–∏–Ω—ã, –∫–æ—Ç–æ—Ä—É—é –º—ã –º–æ–∂–µ–º —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ CSS. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —É –Ω–∞—Å –±—É–¥–µ—Ç –≤—Å—ë —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ.

    // –í –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å—Å—è –ø–æ–∑–∏—Ü–∏—è –Ω–∞—à–µ–π –∫–Ω–æ–ø–∫–∏
    let shiftX = e.clientX - btn.getBoundingClientRect().left;

    console.log("üöÄ ~ e.clientX:", e.clientX) // 34 . –≠—Ç–æ - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –∫—É—Ä—Å–æ—Ä–∞ –º—ã—à–∫–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –æ–∫–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

    console.log("üöÄ ~ btn.getBoundingClientRect().left:", btn.getBoundingClientRect().left) //25
    // btn.getBoundingClientRect().left - —ç—Ç–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–∞—á–∞–ª–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞—à–µ–≥–æ —à–∞—Ä–∏–∫–∞-–ø–æ–ª–∑—É–Ω–∫–∞, —Ç–∞–∫ –∫–∞–∫ –º—ã –µ–≥–æ –≤—Å–µ –≤—Ä–µ–º—è –ø–µ—Ä–µ–¥–≤–∏–≥–∞–µ–º, —Ç–æ –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ª–µ–≤–æ–π –µ–≥–æ —Å—Ç–æ—Ä–æ–Ω—ã –º–µ–Ω—è—é—Ç—Å—è. –ï—Å–ª–∏ —â–µ–ª–∫–∞—Ç—å –≤ –ø–æ–ª–∑—É–Ω–æ–∫ —Ç–∞–∫, —á—Ç–æ–± –æ–Ω –Ω–µ –¥–≤–∏–≥–∞–ª—Å—è, —Ç–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –æ—Å—Ç–∞—é—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏
    // –ø—Ä–∏ –∫–∞–∂–¥–æ–º —â–µ–ª—á–∫–µ –∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏ –ø–æ–ª–∑—É–Ω–∫–∞ —á–∏—Å–ª–∞ –º–µ–Ω—è—é—Ç—Å—è, –Ω–æ —Ä–∞–∑–Ω–∏—Ü–∞ –æ—Å—Ç–∞–µ—Ç—Å—è = –ø—Ä–∏–º–µ—Ä–Ω–æ 15
    console.log(shiftX); // 13 | 11 | 8 | ...

    document.addEventListener('mousemove', onMouseMove);
    // –ö–∞–∂–¥–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –º—ã—à–∏ –ø—Ä–∏ –∑–∞–∂–∞—Ç–æ–π –õ–ö–ú –Ω–∞–¥ —ç–ª–µ–º–µ–Ω—Ç–æ–º –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —ç—Ç–æ —Å–æ–±—ã—Ç–∏–µ.
    // onMouseMove - —Å–≤–æ—è —Ñ—É–Ω–∫—Ü–∏—è

    document.addEventListener('mouseup', onMouseUp);
    // mouseup - –ö–Ω–æ–ø–∫–∞ –º—ã—à–∏ –±—É–¥–µ—Ç –æ—Ç–ø—É—â–µ–Ω–∞ –Ω–∞–¥ —ç–ª–µ–º–µ–Ω—Ç–æ–º.
    // onMouseUp - —Å–≤–æ—è —Ñ—É–Ω–∫—Ü–∏—è

    // –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Å—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –≤ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ –º—ã –¥–≤–∏–≥–∞–µ–º –º—ã—à–∫–æ–π:
    function onMouseMove(e) {
        // –í—ã—Å—á–∏—Ç—ã–≤–∞–µ–º –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞—à–µ–≥–æ –ø–æ–ª–∑—É–Ω–∫–∞:
        let newLeft = e.clientX - shiftX - slider.getBoundingClientRect().left;
        console.log('slider.getBoundingClientRect().left : ' + slider.getBoundingClientRect().left);
        // –ù–µ–∏–∑–º–µ–Ω–Ω–æ: 25

        if (newLeft < 0) {
            newLeft = 0;
            // –µ—Å–ª–∏ –∫—É—Ä—Å–æ—Ä –º—ã—à–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–≤—ë–ª –ª–µ–≤–µ–µ –ø–æ–ª—è –¥–ª—è –ø–æ–ª–∑—É–Ω–∫–∞, —Ç–æ –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–µ —Å—Ç–∞—Ç—å –º–µ–Ω—å—à–µ 0
        }

        // —Å–æ–∑–¥–∞–¥–∏–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –ø—Ä–∞–≤–æ–π –≥—Ä–∞–Ω–∏—Ü—ã:
        let rightEdge = slider.offsetWidth - btn.offsetWidth;
        // slider.offsetWidth - —à–∏—Ä–∏–Ω–∞ —Å–ª–∞–π–¥–µ—Ä–∞.
        // btn.offsetWidth -  —à–∏—Ä–∏–Ω–∞ –Ω–∞—à–µ–π –∫–Ω–æ–ø–∫–∏.

        if (newLeft > rightEdge) {
            newLeft = rightEdge;
            // –µ—Å–ª–∏ –∫—É—Ä—Å–æ—Ä –º—ã—à–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ—Ç—è–Ω–µ—Ç –ø—Ä–∞–≤–µ–µ –ø–æ–ª—è –¥–ª—è –ø–æ–ª–∑—É–Ω–∫–∞, —Ç–æ –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ–º –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–µ —Å—Ç–∞—Ç—å –±–æ–ª—å—à–µ –ø—Ä–∞–≤–æ–π –≥—Ä–∞–Ω–∏—Ü—ã. –≠—Ç–æ –±—É–¥–µ—Ç –∫—Ä–∞–π–Ω—è—è –ø—Ä–∞–≤–∞—è —Ç–æ—á–∫–∞.
        }

        //  –î–ª—è –ø–æ–ª–∑—É–Ω–∫–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ª–µ–≤—É—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É:
        btn.style.left = newLeft + 'px';
    }

    // –ù–∞–ø–∏—à–µ–º —Ñ—É–Ω–∫—Ü–∏—é –≤ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ –∫–Ω–æ–ø–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –æ—Ç–ø—É—â–µ–Ω–∞:
    function onMouseUp(e) {
        // –£–¥–∞–ª–∏–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏—è —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞:
        document.removeEventListener('mouseup', onMouseUp);
        document.removeEventListener('mousemove', onMouseMove);
    }

}

// –∫–æ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –∫–∞–∫–æ–≥–æ –ª–∏–±–æ —ç–ª–µ–º–µ–Ω—Ç–∞, —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ JS ondragstart:
btn.ondragstart = function () {
    return false;
    // —ç—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ –Ω–∞–º –Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –ø–æ—ç—Ç–æ–º—É –º—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –µ–≥–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –≤—Å–µ —Å–∞–º–∏ –∫–æ–¥–æ–º –≤—ã—à–µ —Ç–∞–∫ –∫–∞–∫ –Ω–∞–º —Ç—Ä–µ–±—É–µ—Ç—Å—è
}

