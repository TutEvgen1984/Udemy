// –ü—Ä–∏–º–µ—Ä 18 - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ç–∞–±–ª–∏—Ü—ã

table.onclick = function (e) { // –Ω–∞ –≤—Å—é —Ç–∞–±–ª–∏—Ü—É –≤–µ—à–∞–µ–º –æ–¥–∏–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è –∏ –±—É–¥–µ–º –ø—Ä–æ–≤–µ—Ä—è—Ç—å –Ω–∞–∂–∞—Ç—å –ª–∏ –Ω–∞—à th

    if (e.target.tagName != 'TH') return //  –µ—Å–ª–∏ —Ü–µ–ª—å –∫–ª–∏–∫–∞ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω–æ–π —è—á–µ–π–∫–æ–π, —Ç–æ –≤—ã—Ö–æ–¥–∏–º –∏–∑ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∏ –¥–∞–ª—å–Ω–µ–π—à–∏–π –∫–æ–¥ –Ω–µ –≤—ã–ø–æ–ª–Ω—è–µ–º. –¢–æ  –µ—Å—Ç—å –º—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —ç—Ç–æ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π —Ç–µ–≥ TH. –ï—Å–ª–∏  —â—ë–ª–∫–∞–µ–º –ø–æ –Ω–µ–º—É, —Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, –µ—Å–ª–∏ —ç—Ç–æ –∫–∞–∫–∏–µ-—Ç–æ –¥—Ä—É–≥–∏–µ —è—á–µ–π–∫–∏, —Ç–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –Ω–µ –¥–æ–ª–∂–Ω–∞

    let th = e.target // –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∑–∞–ø–∏—à–µ–º —Ü–µ–ª—å —â–µ–ª—á–∫–∞,  —ç—Ç–æ –±—É–¥–µ—Ç –æ–¥–∏–Ω –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö <th> —Ç–∞–±–ª–∏—Ü—ã —Ç–∞–∫ –∫–∞–∫  —ç—Ç–æ—Ç –∫–æ–¥ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è  —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤–µ—Ä—Ö–Ω–µ–µ —É—Å–ª–æ–≤–∏–µ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç–æ  –µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —Ü–µ–ª—å —â–µ–ª—á–∫–∞ –±—ã–ª–∞ –∏–º–µ–Ω–Ω–æ th

    // –¥–∞–ª–µ–µ –Ω–∞—á–Ω—ë–º –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å–≤–æ—é —Ñ—É–Ω–∫—Ü–∏—é —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏, –∫–æ—Ç–æ—Ä—É—é –Ω–∞–ø–∏—à–µ–º –Ω–∏–∂–µ –ø–æ –∫–æ–¥—É
    sortTable(th.cellIndex, th.dataset.type);
    // –≤ –∫–∞—á–µ—Å—Ç–≤–µ 1-–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –ø–æ–¥—Å—Ç–∞–≤–∏–º —Å–≤–æ–π—Å—Ç–≤–æ cellIndex —É –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π th. –≠—Ç–æ —Å–µ–∫—Ç–∞–Ω—Ç—Å–∫–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ —É —Ç–µ–≥–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü–µ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∏–Ω–¥–µ–∫—Å —è—á–µ–π–∫–∏. –ï—Å–ª–∏ —ç—Ç–æ –±—É–¥–µ—Ç –ø–µ—Ä–≤—ã–π —Å—Ç–æ–ª–±–µ—Ü –ò–º—è, —Ç–æ —ç—Ç–æ –±—É–¥–µ—Ç –∏–Ω–¥–µ–∫—Å "0" (–∏ –≤—Å–µ —è—á–µ–π–∫–∏ —ç—Ç–æ–≥–æ –ø–µ—Ä–≤–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞ —Ç–æ–∂–µ –±—É–¥—É—Ç –∏–º–µ—Ç—å –∏–Ω–¥–µ–∫—Å "0"),  –µ—Å–ª–∏ –≤—Ç–æ—Ä–æ–π —Å—Ç–æ–ª–±–µ—Ü –í–æ–∑—Ä–∞—Å—Ç, —Ç–æ –∏–Ω–¥–µ–∫—Å –±—É–¥–µ—Ç "1" (—Ç–∞–∫–∂–µ —É –≤—Å–µ—Ö —è—á–µ–µ–∫ –≤—Ç–æ—Ä–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞).
    // –≤ –∫–∞—á–µ—Å—Ç–≤–µ 2-–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –ø–æ–¥—Å—Ç–∞–≤–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ data-type, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª–∏–±–æ "string" –ª–∏–±–æ "number"

    // —Å–æ–∑–¥–∞–¥–∏–º —Å–≤–æ—é —Ñ—É–Ω–∫—Ü–∏—é —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏:
    function sortTable(colNum, type) { // 2 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞: –Ω–æ–º–µ—Ä –∫–æ–ª–æ–Ω–∫–∏ –∏ —Ç–∏–ø —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ
        let tbody = table.querySelector('tbody') // –ø–æ–¥—Ü–µ–ø–∏–ª–æ—Å—å –∫ tbody, —Ö—Ä–∞–Ω—è—â–µ–º –¥–∞–Ω–Ω—ã–µ, —á—Ç–æ–±—ã –Ω–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å thead –≤ –∫–æ—Ç–æ—Ä–æ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏

        let rowsArray = Array.from(tbody.rows) // –∏–∑ –≤—Å–µ—Ö —Ä—è–¥–æ–≤ tbody —Å–æ–∑–¥–∞–ª–∏ –º–∞—Å—Å–∏–≤

        let compare; //  —Å–æ–∑–¥–∞–ª–∏ –ø—É—Å—Ç—ã–Ω—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ –∫–æ—Ç–æ—Ä—É—é –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –∑–∞—Ç–µ–º –ø–æ–º–µ—Å—Ç–∏–º –æ–¥–Ω—É –∏–∑ —Ñ—É–Ω–∫—Ü–∏–π

        switch (type) { //  –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç type (2–æ–π  –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –Ω–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏)
            case 'number':
                compare = function (rowA, rowB) {
                    return rowA.cells[colNum].innerHTML - rowB.cells[colNum].innerHTML
                    // —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –≤ —Å–ª—É—á–∞–µ —Ç–∏–ø–∞ number –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é compare  –ø–æ–º–µ—Å—Ç–∏–ª–∏ —Ñ—É–Ω–∫—Ü–∏—é —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ —á–∏—Å–ª–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –¥–∞–Ω–Ω—ã—Ö
                }
                console.log("üöÄ ~ sortTable ~ compare:", compare)
                // ∆í (rowA, rowB) {
                //     return rowA.cells[colNum].innerHTML - rowB.cells[colNum].innerHTML

                break; // –Ω–µ –∑–∞–±—ã–≤–∞–µ–º –≤ —Å–≤–∏—Ç—á –¥–æ–±–∞–≤–ª—è—Ç—å break 

            case 'string':
                compare = function (rowA, rowB) {
                    return rowA.cells[colNum].innerHTML > rowB.cells[colNum].innerHTML ? 1 : -1
                    //  —Å—Ç—Ä–æ–∫–æ–≤—ã–µ —Å–∏–º–≤–æ–ª—ã –º—ã –Ω–µ –º–æ–∂–µ–º –≤—ã–±—Ä–∞—Ç—å, –ø–æ—ç—Ç–æ–º—É –º—ã –∏—Ö —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Å –ø–æ–º–æ—â—å—é –∑–Ω–∞–∫–∞ >,  –∏ –µ—Å–ª–∏ —ç—Ç–æ—Ç —Å–∏–º–≤–æ–ª –±—É–¥–µ—Ç –±–æ–ª—å—à–µ, —Ç–æ –º—ã –≤–æ–∑–≤—Ä–∞—â–∞–µ–º 1, –∞ –µ—Å–ª–∏ –º–µ–Ω—å—à–µ, —Ç–æ -1
                    // –≤ –∫–æ–Ω—Å–æ–ª–∏: "–≤" > "–∞" –ø–æ–ª—É—á–∞–µ–º true
                }
                console.log("üöÄ ~ sortTable ~ compare:", compare)
                // ∆í (rowA, rowB) {
                //    return rowA.cells[colNum].innerHTML > rowB.cells[colNum].innerHTML ? 1 : -1

                break;
        }
        // —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º switch –±—É–¥–µ—Ç –Ω–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, –∞ —Å–æ–∑–¥–∞–Ω–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è compare, –≤ –∫–æ—Ç–æ—Ä—É—é –∑–∞–ø–∏—Å–∞–Ω —Ç–µ–∫—Å—Ç–æ–≤—ã–π –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ (–ª–∏–±–æ –¥–ª—è —á–∏—Å–µ–ª –ª–∏–±–æ –¥–ª—è —Å—Ç—Ä–æ–∫)

        rowsArray.sort(compare) //  –∫ –º–∞—Å—Å–∏–≤—É —Ä—è–¥–æ–≤ –ø—Ä–∏–º–µ–Ω–∏–ª–∏ –º–µ—Ç–æ–¥—ã —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏, –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ —É–∫–∞–∑–∞–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è compare, —Å–æ–¥–µ—Ä–∂–∞—â–∞—è –∫–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ —á–∏—Å–µ–ª/—Å—Ç—Ä–æ–∫

        tbody.append(...rowsArray)
        // –≤ —Ç–µ–ª–æ —Ç–∞–±–ª–∏—Ü—ã –ø–æ–º–µ—â–∞–µ–º —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ append –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏  –∏–≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Å—Ç–∞—Ä—ã–µ –∑–∞–º–µ–Ω—è—Ç—å—Å—è –Ω–æ–≤—ã–º–∏, —Ç—Ä–∏ —Ç–æ—á–∫–∏ —Å—Ç–∞–≤–∏–º —á—Ç–æ–±—ã –≤—Å–µ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ–º–µ—Å—Ç–∏—Ç—å –≤ tbody
    }
}

// –ö–æ–¥ —Å —É—á—ë—Ç–æ–º –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –æ—Ç —Å—Ç—É–¥–µ–Ω—Ç–∞:
function ErikEr() {

    table.onclick = function (e) {

        if (e.target.tagName != 'TH') return;

        let th = e.target;

        sortTable(th.cellIndex, th.dataset.type, 'ru', { sensitivity: 'base' });

    }


    function sortTable(colNum, type, locales, options) {

        let tbody = document.querySelector('tbody');

        let rowsTable = Array.from(tbody.rows);

        let compare;

        switch (type) {

            case 'number':

                compare = function (row0, row1) {

                    return row0.cells[colNum].innerHTML - row1.cells[colNum].innerHTML;

                }

                break;

            case 'string':

                const collator = new Intl.Collator(locales, options);

                compare = function (row0, row1) {

                    return collator.compare(row0.cells[colNum].innerHTML, row1.cells[colNum].innerHTML);

                }

                break;

        }

        rowsTable.sort(compare);

        tbody.append(...rowsTable);

    }

}