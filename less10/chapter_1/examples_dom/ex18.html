<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/style.css">
  <title>Пример 18 - Календарь</title>
</head>

<body>
  <div class="container"></div>

  <script>
    function createCalendar(elem,year,month) {
      elem = document.querySelector(elem)

      let mon = month - 1 //  Нам удобнее передавать в функцию нормальный человеческий месяц 12, а функция должна его преобразовать в месяц 11 для рассчетов JS в котором месяцы от 0 до 11
      let d = new Date(year, month) // здесь у нас будет храниться дата основанная на годе и месяце, которые будем передавать сами

      // далее создадим переменную содержащую шаблонные литералы в которых в виде текста будет находиться код для создания таблицы
      let table = `
      <table>
        <caption>${month}.${year}</caption>
        <tr>
          <th>пн</th>
          <th>вт</th>
          <th>ср</th>
          <th>чт</th>
          <th>пт</th>
          <th>сб</th>
          <th>вс</th>
        </tr>
        <tr>
      ` 
      // <tr> в конце это мы создали новый ряд, но специально не закрыли его для того чтобы дописать туда новые сгенерированные значения
      // элемент caption должен идти сразу же после открывающегося тега <table>
        
      table += '</tr></table>'
      elem.innerHTML = table

    }
    
    
    // Функция, которая преобразует наши введённые привычные нам дни недели с Пн(1) до Вс(7) в JavaScript_овские дни с Вс(0) по Сб(6) для дальнейшего внутреннего вычисления:
    function getDay(date) { // здесь getDay это нами самими придуманное название функции, несмотря на то, что оно совпадает с встроенным существующим методом объекта Date
      let day = date.getDay() // getDay это стандартный метод у объекта. Метод getDay() - получить день недели от 0 (Воскресенье) до 6 (суббота)
      if(day == 0) day = 7 // так как в JS день начинается не с понедельника, а с воскресенья, то получается что по умолчанию 0-ой день это воскресенье, а понедельник это день 1. Делаем чтобы как только попали на день 0 (вс), то он стал днём 7 (дня 7 нет, это мы специально потому что следующая строка делает day-1 и превратит 7(несущ) в 6 (сб))
      return day-1 // пишем вернуть "-1" потому что нам нужно подать на вход вторник???
    }

    createCalendar('body', 2021, 4) // 4 это апрель
  </script>
</body>

</html>