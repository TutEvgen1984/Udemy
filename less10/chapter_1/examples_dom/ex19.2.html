<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../css/style.css">
  <title>Пример 19.2 - Сортировка любого столбца по клику на заголовке этого столбца</title>
</head>
<body>

  <table id="tableId">
    <tr>
      <th>Имя</th>
      <th>Возраст</th>
    </tr>
    <tr>
      <td>Борис</td>
      <td>10</td>
    </tr>
    <tr>
      <td>Алена</td>
      <td>15</td>
    </tr>
    <tr>
      <td>Геннадий</td>
      <td>11</td>
    </tr>
    <tr>
      <td>Валентин</td>
      <td>7</td>
    </tr>
  </table>


  <script>

    let tableGrab = document.querySelector('table');

    function sortTable(i) {
      let tableRows = Array.from(tableGrab.rows);
      tableRows = tableRows.slice(1)
      if (isNaN(tableRows[0].cells[i].innerHTML)) {// если нужно отсортировать строки
        tableRows = tableRows.sort((a, b) => a.innerHTML.localeCompare(b.innerHTML)) // сортирвка строк в лексикографическом проядке по возрастанию
      } else { // а если сортировать нужно числа
        tableRows = tableRows.sort((rowA, rowB) => rowA.cells[i].innerHTML - rowB.cells[i].innerHTML) // сортируется как в примере в видео
      }
      tableId.append(...tableRows)
    }

    let text = document.createElement('p') // в этом элементе будет описано по какому столбцу отсортирована таблица
    tableId.after(text) 
    let ths = Array.from(document.querySelectorAll('th')); // список всех заголовков столбцов
    for (let th of ths) { // проходим циклом по заголовкам из списка
      th.style.cursor = 'pointer' // меняем стили у каждого заголовка
      th.addEventListener('click', function() { // добавляем обработку нажатия на заголовок
        sortTable(ths.indexOf(th)) // вызываем нашу функцию для заголовка на который нажали
        text.textContent = `Сортировка : ${th.innerHTML}` // под таблицей появляется текст с описанием сортировки
      })
    }

  </script>
</body>

</html>